/*!CK:59060742!*//*1449710775,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["NrAbv"]); }

__d('PhotosButtonTooltips',['Arbiter','DOMDimensions','Style','Tooltip'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=[],m=[],n;function o(s,t){if(!s||!s.length||!t||!t.length||s.length!=t.length)throw new Error('Incorrect arguments passed in from PHP for photo button cropping');var u=0,v=[],w=false;for(u=0;u<s.length;u++){v.push(i.getElementDimensions(s[u]).width);if(v[u])w=true;}if(w){s.forEach(function(aa){j.set(aa,'max-width','100%');});for(u=0;u<s.length;u++){var x=s[u],y=v[u];if(y){var z=i.getElementDimensions(x).width;if(z>y){k.set(x,t[u]);m.push(x);}}}s.forEach(function(aa){j.set(aa,'max-width','');});}return w;}function p(){l.forEach(function(s){s.unsubscribe();});l=[];m.forEach(k.remove);m=[];}function q(s,t,u){this.arbiterToken=h.subscribe(s,(function(){if(o(t,u))this.arbiterToken&&this.arbiterToken.unsubscribe();}).bind(this));}var r={init:function(){if(!n)n=h.subscribe('PhotoSnowlift.CLOSE',p);},registerButtonsOnPaging:function(s,t){l.push(new q('PhotoSnowlift.DATA_CHANGE',s,t).arbiterToken);},registerButtonsOnTaggingOn:function(s,t){l.push(new q('PhotoTagger.ACTIVATED_TAGGING',s,t).arbiterToken);},registerButtonsOnTaggingOff:function(s,t){l.push(new q('PhotoTagger.DEACTIVATED_TAGGING',s,t).arbiterToken);}};f.exports=r;},null);