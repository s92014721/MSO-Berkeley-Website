/*!CK:71206966!*//*1450500602,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["u8gF0"]); }

__d('AdsPagerConstants',['keyMirror'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=h({ADD_PAGE:null,PAGE_TRANSITION:null,REQUEST_PAGE:null}),j=h({VIEW_ACTION:null,SERVER_ACTION:null});f.exports={ActionTypes:i,PayloadSources:j};},null);
__d('AdsPagerDispatcher',['AdsPagerConstants','Dispatcher_DEPRECATED'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=h.PayloadSources;function k(m){return function(n){this.dispatch({payloadSource:m,action:n});};}var l=Object.assign(new i(),{handleUpdateFromViewAction:k(j.VIEW_ACTION),handleUpdateFromServerAction:k(j.SERVER_ACTION)});f.exports=l;},null);
__d('AdsRefreshHandler',['AdsMouseStateStore','AdsPagerConstants','AdsPagerDispatcher','Animation','Arbiter','DOM','Event','SubscriptionsHandler','UIPagelet','csx','debounceAcrossTransitions','getOrCreateDOMID'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=h.STATES,u=600;function v(w,x,y){'use strict';if(!y.data||!y.pid)return;this.$AdsRefreshHandler1=w;this.$AdsRefreshHandler2=Date.now();this.$AdsRefreshHandler3=x;this.$AdsRefreshHandler4=y;this.$AdsRefreshHandler5=0;this.$AdsRefreshHandler6=false;this.$AdsRefreshHandler7=true;this.$AdsRefreshHandler8=r(this.reloadAdsIfNeeded.bind(this),this.$AdsRefreshHandler3.delay);this.$AdsRefreshHandler9=new o();this.$AdsRefreshHandler9.addSubscriptions(n.listen(this.$AdsRefreshHandler1,'mouseenter',this.setMouseOver.bind(this,true)),n.listen(this.$AdsRefreshHandler1,'mouseleave',this.setMouseOver.bind(this,false)),h.subscribe('change',this.onMouseStateStoreChange.bind(this)),l.subscribe('AdsPreferencesDialog/opened',this.stopRefreshingRHC.bind(this)),l.subscribe('AdsPreferencesDialog/closed',this.startRefreshingRHC.bind(this)),l.subscribe('VideoChannelView/opened',this.stopRefreshingRHC.bind(this)),l.subscribe('VideoChannelView/closed',this.startRefreshingRHC.bind(this)));j.register(this.handlePageDispatch.bind(this));}v.prototype.handlePageDispatch=function(w){'use strict';var x=w.action||{};if(x.actionType===i.ActionTypes.REQUEST_PAGE)this.reloadAds();};v.prototype.setMouseOver=function(w){'use strict';this.$AdsRefreshHandler10=w;};v.prototype.subscribeDefaultEventsForRefresh=function(){'use strict';this.$AdsRefreshHandler9.addSubscriptions(n.listen(window,'scroll',this.$AdsRefreshHandler8),n.listen(window,'resize',this.$AdsRefreshHandler8));return this;};v.prototype.reloadWithDebounce=function(){'use strict';this.$AdsRefreshHandler8();};v.prototype.reloadWithoutDebounce=function(){'use strict';this.reloadAdsIfNeeded();};v.prototype.stopRefreshingRHC=function(w,x){'use strict';this.$AdsRefreshHandler7=false;};v.prototype.startRefreshingRHC=function(w,x){'use strict';this.$AdsRefreshHandler2=Date.now();this.$AdsRefreshHandler7=true;};v.prototype.forceLoadIfEnoughTimePassed=function(w){'use strict';if(Date.now()-this.$AdsRefreshHandler2>w)this.reloadAds();};v.prototype.containsPremium=function(){'use strict';var w=m.scry(this.$AdsRefreshHandler1,"div._4u8");return !!w.filter(function(x){return JSON.parse(x.getAttribute('data-ad')).segment==='premium';}).length;};v.prototype.reloadAdsIfNeeded=function(){'use strict';if(!this.$AdsRefreshHandler1)return;l.inform('AdsRefreshHandler/CheckingReload');if(this.$AdsRefreshHandler3.stateRefresh){this.reloadAdsIfNeededStateBased();return;}if(this.containsPremium()||this.$AdsRefreshHandler10||!this.$AdsRefreshHandler3.interval)return;if(Date.now()-this.$AdsRefreshHandler2>=this.$AdsRefreshHandler3.interval)this.reloadAds();};v.prototype.reloadAdsIfNeededStateBased=function(){'use strict';if(Date.now()-this.$AdsRefreshHandler2<this.$AdsRefreshHandler3.interval)return;if(this.containsPremium())return;if(!this.$AdsRefreshHandler3.interval)return;this.$AdsRefreshHandler6=true;l.inform('AdsRefreshHandler/RefreshScheduled');this.checkScheduledRefresh();};v.prototype.getRefreshScheduled=function(){'use strict';return this.$AdsRefreshHandler6;};v.prototype.onMouseStateStoreChange=function(){'use strict';this.checkScheduledRefresh();};v.prototype.checkScheduledRefresh=function(){'use strict';if(!this.$AdsRefreshHandler6)return;if(this.$AdsRefreshHandler10)return;var w=h.getState(),x=false;switch(w){case t.HOVER:case t.NO_INTENT:x=true;break;default:break;}if(!x)return;this.$AdsRefreshHandler6=false;this.reloadAds();};v.prototype.reloadAds=function(){'use strict';if(!this.$AdsRefreshHandler1)return;this.$AdsRefreshHandler2=Date.now();if(!this.$AdsRefreshHandler7)return;var w=this.$AdsRefreshHandler4&&this.$AdsRefreshHandler4.data,x=babelHelpers._extends({},w,{refresh_num:++this.$AdsRefreshHandler5});p.loadFromEndpoint('WebEgoPane',this.$AdsRefreshHandler1,{dom_id:s(this.$AdsRefreshHandler1),pid:this.$AdsRefreshHandler4.pid,data:x},{bundle:false,handler:this.onLoadHandler.bind(this)});l.inform('AdsRefreshHandler/AdsLoading');};v.prototype.onLoadHandler=function(){'use strict';l.inform('AdsRefreshHandler/AdsLoaded');if(!this.$AdsRefreshHandler3.fade)return;new k(this.$AdsRefreshHandler1).from('opacity',0).to('opacity',1).duration(u).go();};v.prototype.cleanup=function(){'use strict';this.$AdsRefreshHandler1=null;this.$AdsRefreshHandler9.release();this.$AdsRefreshHandler8.reset();};f.exports=v;},null);
__d('HomeRHCAdsBasicRefresh',['AdsRefreshHandler','Arbiter','NavigationMessage','Run','SubscriptionsHandler','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o,p,q;function r(){if(n){n.cleanup();n=null;}if(o){o.release();o=null;}p=null;}function s(){var v=m(q);if(v&&p){v.appendChild(p);p=null;}}function t(v,w){p=w;n&&n.forceLoadIfEnoughTimePassed(0);}var u={init:function(v,w,x){q=v;n=new h(m(v),w,x).subscribeDefaultEventsForRefresh();o=new l();o.addSubscriptions(i.subscribe(j.NAVIGATION_BEGIN,r),i.subscribe('ProfileQuestionAnswered',t),i.subscribe('AdsRefreshHandler/AdsLoaded',s));k.onLeave(r);}};f.exports=u;},null);
__d('AsyncLayout',['AjaxPipeRequest','Arbiter','AsyncRequest','AsyncResponse','CSS','DOM','HTML','NavigationMessage','PageTransitionsRegistrar','URI','$','emptyFunction','ge','goURI','requireWeak'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w;v('PageTransitions',function(y){w=y;});function x(y){'use strict';this.canvasID=y;if(t('rightCol'))this.auxiliaryID='rightCol';if(t('headerArea'))this.headerID='headerArea';if(t('toolbarContainer'))this.toolbarID='toolbarContainer';this.waitingForAux=false;p.registerHandler(this.catchPageTransition.bind(this));this.subscription=i.subscribe(o.NAVIGATION_BEGIN,this.onNavigate.bind(this));i.inform('AsyncLayout/initialized',null,i.BEHAVIOR_STATE);}x.prototype.catchPageTransition=function(y){'use strict';this.subscription.unsubscribe();return false;};x.prototype.getCanvasID=function(y){'use strict';return y.sidecol?'contentCol':'contentArea';};x.prototype.onNavigate=function(y,z){'use strict';var aa=z.useAjaxPipe;z=z.params;if(z.endpoint){if(this.request){this.request.setFinallyHandler(s);this.request.abort();}if(this.sideRequest)this.sideRequest.abort();if(aa){this.request=new h().setURI(z.endpoint).setData(z).setCanvasId(this.getCanvasID(z)).setFinallyHandler(this.finallyHandler.bind(this)).setErrorHandler(this.errorHandler.bind(this)).setFirstResponseCallback(this.firstResponseCallback.bind(this)).send();}else{z.handled=true;this.waitingForAux=z.sidecol;var ba=!!z.iframe,ca=new j().setOption('useIframeTransport',ba).setURI(new q(z.endpoint)).setReadOnly(true).setMethod('GET').setData(z).setHandler(this.onResponse.bind(this)).setErrorHandler(this.errorHandler.bind(this)).setFinallyHandler(this.finallyHandler.bind(this));this.request=ca;ca.send();}}};x.prototype.onSideResponse=function(y){'use strict';var z=y.getPayload();if(z&&this.auxiliaryID)this.receivedAux(z);};x.prototype.receivedAux=function(y){'use strict';!this.waitingForAux;this.waitingForAux=false;m.setContent(r(this.auxiliaryID),n(y));};x.prototype.onResponse=function(y){'use strict';var z=y.getPayload();if(z.redirect){u(z.redirect);}else{var aa=z.html||z;m.setContent(r(this.canvasID),n(aa));if(z.side_html&&this.auxiliaryID)this.receivedAux(z.side_html);if(this.headerID&&!z.keep_header){var ba=r(this.headerID);m.setContent(ba,n(z.header_html||''));l.conditionShow(ba,z.header_html);}if(z.toolbar_html&&this.toolbarID)m.setContent(r(this.toolbarID),n(z.toolbar_html));if(z.js)new Function(z.js)();l.conditionClass('contentCol','hasRightCol',this.auxiliaryID&&!z.noRightSide);var ca=t('rightCol');if(ca&&z.noRightSide)m.empty(ca);}var da=y.getRequest().getData();i.inform(o.NAVIGATION_COMPLETED,da.key);};x.prototype.errorHandler=function(y){'use strict';k.verboseErrorHandler(y);i.inform(o.NAVIGATION_FAILED);this.request=null;};x.prototype.firstResponseCallback=function(y){'use strict';window.scrollTo(0,0);i.inform(o.NAVIGATION_FIRST_RESPONSE);};x.prototype.finallyHandler=function(y){'use strict';this.request=null;if(w)w.transitionComplete(true);i.inform(o.NAVIGATION_COMPLETED);};f.exports=x;},null);
__d('DirectionalDockingElement',['ArbiterMixin','DOM','DOMDimensions','Event','Run','Scroll','Style','SubscriptionsHandler','UITinyViewportAction','ViewportBounds','getElementPosition','mixin','queryThenMutateDOM','removeFromArray'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w,x,y=[],z=true,aa=false,ba='unfixed',ca='fixed_top',da='fixed_middle';v=babelHelpers.inherits(ea,s(h));w=v&&v.prototype;function ea(fa){'use strict';w.constructor.call(this);this.$DirectionalDockingElement1=fa;this.$DirectionalDockingElement2=0;if(!x){var ga=t.bind(null,function(){for(var ha=0,ia=y.length;ha<ia;ha++)y[ha].$DirectionalDockingElement3();},function(){for(var ha=0,ia=y.length;ha<ia;ha++)y[ha].$DirectionalDockingElement4();},'DirectionalDockingElement');x=new o();x.addSubscriptions(k.listen(window,'scroll',ga),k.listen(window,'resize',ga));l.onLeave(function(){while(y.length)y.pop().destroy();x.release();x=null;});}y.push(this);this.$DirectionalDockingElement5=q.getTop();this.$DirectionalDockingElement6=ca;n.set(this.$DirectionalDockingElement1,'width',j.getElementDimensions(this.$DirectionalDockingElement1).width+'px');this.$DirectionalDockingElement7=i.create('div');n.set(this.$DirectionalDockingElement7,'position','relative');i.replace(this.$DirectionalDockingElement1,this.$DirectionalDockingElement7);i.appendContent(this.$DirectionalDockingElement7,this.$DirectionalDockingElement1);this.update();}ea.prototype.$DirectionalDockingElement3=function(){'use strict';var fa=-r(this.$DirectionalDockingElement7).y;if(fa!==this.$DirectionalDockingElement8){this.$DirectionalDockingElement9=fa>this.$DirectionalDockingElement8?aa:z;this.$DirectionalDockingElement8=fa;}this.$DirectionalDockingElement10=j.getElementDimensions(this.$DirectionalDockingElement1);this.$DirectionalDockingElement11=m.getTop(document.body)+document.documentElement.clientHeight>document.documentElement.scrollHeight;};ea.prototype.$DirectionalDockingElement12=function(fa,ga){'use strict';if(this.$DirectionalDockingElement13!==fa||this.$DirectionalDockingElement14!==ga){n.apply(this.$DirectionalDockingElement1,{position:fa,top:ga+'px'});this.$DirectionalDockingElement13=fa;this.$DirectionalDockingElement14=ga;}};ea.prototype.$DirectionalDockingElement15=function(){'use strict';this.$DirectionalDockingElement6=ca;this.$DirectionalDockingElement12('fixed',this.$DirectionalDockingElement5);};ea.prototype.$DirectionalDockingElement16=function(){'use strict';this.$DirectionalDockingElement6=da;this.$DirectionalDockingElement12('fixed',this.$DirectionalDockingElement2);};ea.prototype.$DirectionalDockingElement17=function(){'use strict';this.$DirectionalDockingElement6=ba;this.$DirectionalDockingElement12('absolute',this.$DirectionalDockingElement18);};ea.prototype.$DirectionalDockingElement4=function(){'use strict';var fa=this.$DirectionalDockingElement10.height;if(fa!==this.$DirectionalDockingElement19){n.set(this.$DirectionalDockingElement7,'height',fa+'px');this.$DirectionalDockingElement19=fa;this.inform('changedheight');}if(this.$DirectionalDockingElement6===ca){this.$DirectionalDockingElement18=this.$DirectionalDockingElement8+this.$DirectionalDockingElement5;}else if(this.$DirectionalDockingElement6===da)this.$DirectionalDockingElement18=this.$DirectionalDockingElement8+this.$DirectionalDockingElement2;if(this.$DirectionalDockingElement11)return;if(this.$DirectionalDockingElement8+this.$DirectionalDockingElement5<=0||p.isTiny()){this.$DirectionalDockingElement18=0;this.$DirectionalDockingElement17();return;}if(this.$DirectionalDockingElement9===aa&&this.$DirectionalDockingElement8+this.$DirectionalDockingElement2>=this.$DirectionalDockingElement18){this.$DirectionalDockingElement16();}else if(this.$DirectionalDockingElement9===z&&this.$DirectionalDockingElement8+this.$DirectionalDockingElement5<=this.$DirectionalDockingElement18){this.$DirectionalDockingElement15();}else this.$DirectionalDockingElement17();};ea.prototype.update=function(){'use strict';this.$DirectionalDockingElement3();this.$DirectionalDockingElement4();};ea.prototype.destroy=function(){'use strict';if(y.indexOf(this)===-1)return;u(y,this);if(this.$DirectionalDockingElement7&&this.$DirectionalDockingElement7.parentNode){i.remove(this.$DirectionalDockingElement7);this.$DirectionalDockingElement7=null;}};ea.prototype.setOffset=function(fa){'use strict';this.$DirectionalDockingElement2=fa;this.update();return this;};f.exports=ea;},null);
__d('DockingElement',['ArbiterMixin','CSS','DOM','DOMDimensions','Event','Run','Style','SubscriptionsHandler','UITinyViewportAction','getElementPosition','mixin','queryThenMutateDOM','removeFromArray'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v,w,x=[];u=babelHelpers.inherits(y,r(h));v=u&&u.prototype;function y(z){'use strict';v.constructor.call(this);this.$DockingElement1=z;this.$DockingElement2=0;if(!x.length){var aa=s.bind(null,function(){for(var ba=0,ca=x.length;ba<ca;ba++)x[ba].getRect();},function(){for(var ba=0,ca=x.length;ba<ca;ba++)x[ba].updateWithCache();},'DockingElement');w=new o();w.addSubscriptions(l.listen(window,'scroll',aa),l.listen(window,'resize',aa));m.onLeave(function(){while(x.length)x.pop().destroy();});}x.push(this);this.update();}y.prototype.getRect=function(){'use strict';var z=this.$DockingElement3?this.getPlaceholder():this.$DockingElement1;this.$DockingElement4=q(z);this.$DockingElement5=k.getElementDimensions(z);};y.prototype.updateWithCache=function(){'use strict';var z=this.$DockingElement2,aa=this.getPlaceholder();if(!p.isTiny()&&this.$DockingElement4.y<=z){if(!this.$DockingElement3){if(!this.$DockingElement6){j.insertAfter(this.$DockingElement1,aa);this.$DockingElement6=true;}i.addClass(this.$DockingElement1,'fixed_elem');i.show(aa);this.$DockingElement3=true;}var ba;if(this.$DockingElement7!==z){ba={};ba.top=z+'px';this.$DockingElement7=z;}var ca=this.$DockingElement5.width;if(ca!==this.$DockingElement8){ba=ba||{};ba.width=ca+'px';this.$DockingElement8=ca;}ba&&n.apply(this.$DockingElement1,ba);var da=this.$DockingElement5.height;if(da!==this.$DockingElement9){n.set(aa,'height',da+'px');this.$DockingElement9=da;this.inform('changedheight');}}else if(this.$DockingElement3){n.apply(this.$DockingElement1,{top:'',width:''});i.removeClass(this.$DockingElement1,'fixed_elem');i.hide(aa);this.$DockingElement3=false;this.$DockingElement8=null;this.$DockingElement7=null;}};y.prototype.update=function(){'use strict';this.getRect();this.updateWithCache();};y.prototype.getPlaceholder=function(){'use strict';if(!this.$DockingElement10)this.$DockingElement10=j.create('div');return this.$DockingElement10;};y.prototype.destroy=function(){'use strict';if(x.indexOf(this)===-1)return;t(x,this);if(this.$DockingElement10&&this.$DockingElement10.parentNode){j.remove(this.$DockingElement10);this.$DockingElement10=null;}if(!x.length){w.release();w=null;}};y.prototype.setOffset=function(z){'use strict';this.$DockingElement2=z;this.update();return this;};f.exports=y;},null);
__d('StickyRHC',['$','Arbiter','DirectionalDockingElement','DockingElement','DOMDimensions','DOMQuery','Event','Run','SubscriptionsHandler','ViewportBounds','csx','ge','getElementPosition','getViewportDimensions','removeFromArray','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=35,y=[],z;function aa(ea,fa){if(!fa||!fa.dom_id){y.forEach(ba);return;}var ga=h(fa.dom_id);for(var ha=0;ha<y.length;ha++)if(m.contains(y[ha].getRoot(),ga)){ba(y[ha]);return;}}function ba(ea){var fa=ea.getRoot(),ga=ea.updateOffset.bind(ea),ha=m.scry(fa,'img.img');ha.forEach(function(ia){if(ia.complete||ia.getAttribute('height')||typeof ia.naturalHeight!=='undefined'&&ia.naturalHeight!==0)return;var ja=function(){ga();ka.remove();la.remove();ma.remove();},ka=n.listen(ia,'load',ja),la=n.listen(ia,'error',ja),ma=n.listen(ia,'abort',ja);});ga();}function ca(){y.forEach(function(ea){ea.updateOffset();});}function da(ea,fa){'use strict';this.$StickyRHC1=ea;this.$StickyRHC2=fa?new j(ea):new k(ea);this.$StickyRHC3=0;this.$StickyRHC2.subscribe('changedheight',this.updateOffset.bind(this));this.updateOffset();ba(this);if(!y.length){z=new p();z.addSubscriptions(i.subscribe('header_loaded',ca),i.subscribe('netego_loaded',aa),i.subscribe('pagelet_trending_tags_and_topics_displayed',ca),i.subscribe('browse_top_filters_full_width_displayed',ca),i.subscribe('takeover_survey_closed',ca),n.listen(window,'resize',w(ca)));}o.onLeave(this.destroy.bind(this));y.push(this);}da.getInstances=function(){'use strict';return y;};da.prototype.getRoot=function(){'use strict';return this.$StickyRHC1;};da.prototype.destroy=function(){'use strict';this.$StickyRHC2.destroy();v(y,this);if(!y.length){z.release();z=null;}};da.prototype.updateOffset=function(){'use strict';var ea=da.getNewOffset(this.$StickyRHC1,this.$StickyRHC4,this.$StickyRHC3);this.$StickyRHC2.setOffset(ea+this.$StickyRHC3);};da.getNewOffset=function(ea,fa,ga){'use strict';var ha=m.scry(ea,"._4-u2"),ia=m.scry(ea,"._4-u3"),ja=m.scry(ea,"._5eh2"),ka=m.scry(ea,'.uiHeader'),la=m.scry(ea,'.ego_unit'),ma=[].concat(ha,ia,ja,ka,la),na=[];ma.forEach(function(xa){na.push(t(xa).y);});na.sort(function(xa,ya){return xa-ya;});var oa=t(ea).y,pa=l.getElementDimensions(ea).height;pa+=ga;var qa=q.getTop(),ra=u().height-qa;ra-=x;if(typeof fa==='undefined'){var sa=s('pageFooter');fa=sa?l.getElementDimensions(sa).height:0;}ra-=fa;var ta=ra-pa;if(pa<ra){ta=qa;}else for(var ua=0,va=na.length;ua<va;ua++){var wa=na[ua]-oa;if(pa-wa<ra){ta=qa-wa;break;}}return ta;};da.prototype.setOffset=function(ea){'use strict';this.$StickyRHC3=ea;this.updateOffset();};da.prototype.getOffset=function(ea){'use strict';return this.$StickyRHC3;};f.exports=da;},null);