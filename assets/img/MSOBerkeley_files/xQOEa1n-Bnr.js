/*!CK:577425822!*//*1450123366,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["xnIn2"]); }

__d('P2PGroupSendDialog.react',['CurrentEnvironment','Image.react','MessengerContextualDialog.react','P2PActions','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PText.react','React','ScrollableArea.react','XUIContextualDialog.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=p.PropTypes,v=p.createClass({displayName:'P2PGroupSendDialog',propTypes:{amount:u.string,currency:u.string,flyoutAlignment:u.string,onToggle:u.func.isRequired,participants:u.arrayOf(u.object).isRequired,referrer:u.string,threadID:u.string.isRequired,threadFBID:u.string.isRequired},componentDidMount:function(){if(this.props.amount){this.log(m.UI_ACTN_INITIATE_GROUP_SEND_TRIGGER,{raw_amount:this.props.amount,currency:this.props.currency});}else this.log(m.UI_ACTN_INITIATE_GROUP_SEND);},log:function(w,x){l.log(w,babelHelpers._extends({www_event_flow:n.UI_FLOW_P2P_GROUP_SEND},x));},_handleToggle:function(w){this.props.onToggle(w);this.log(m.UI_ACTN_GROUP_SEND_CANCELLED);},_handleBlur:function(){this._handleToggle(false);},renderParticipantRow:function(w){var x=h.messengerdotcom,y=x?32:40,z=!w.p2p_eligible,aa;if(z)aa=p.createElement(o,{className:"_4cof",type:'primary'},t._("Isn't able to receive money right now"));return (p.createElement('li',{className:"_4cog"+(z?' '+"_4coh":''),key:w.id,onClick:this.handleGroupThreadClicked.bind(this,w)},p.createElement('div',{className:"_4coi"},p.createElement(i,{className:"_4coj",height:y,src:w.big_image_src||w.image_src,width:y})),p.createElement('div',{className:"_4cok"},p.createElement(o,{className:"_4col",type:'primary'},w.name),aa)));},renderGroupList:function(){return (p.createElement(q,{height:178},p.createElement('ul',null,this.props.participants.map(this.renderParticipantRow))));},handleGroupThreadClicked:function(w){if(!w.p2p_eligible)return;this.props.onToggle(false);k.chatSendViewOpened({amount:this.props.amount,referrer:this.props.referrer,threadID:this.props.threadID,groupSendRecipientUserID:w.userID,groupThreadFBID:this.props.threadFBID});this.log(m.UI_ACTN_GROUP_SEND_RECIPIENT_PICKED,{raw_amount:this.props.amount,currency:this.props.currency,object_id:w.userID});},render:function(){var w=h.messengerdotcom,x=w?j:r,y=w?302:280;return (p.createElement(x,{alignment:this.props.flyoutAlignment?this.props.flyoutAlignment:w?'right':'left',context:this.props.context,onBlur:this._handleBlur,onToggle:this._handleToggle,shown:true,width:y,position:'above'},p.createElement('div',{className:"_4com"+(w?' '+"_4con":'')},p.createElement(o,{className:"_4coo",type:'primary',weight:'bold'},t._("Select a person")),this.renderGroupList())));}});f.exports=v;},null);