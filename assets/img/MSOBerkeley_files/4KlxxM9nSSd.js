/*!CK:1238271092!*//*1450076845,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["H3dQH"]); }

__d("PUWApplications",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={WEB_SIMPLE:"web_simple",WEB_FLASH:"web_flash",WEB_HTML5:"web_html5",WEB_COMPOSER:"web_composer",WEB_ARCHIVE:"web_archive",WEB_MESSENGER:"web_messenger",WEB_OMNIPICKER:"web_omnipicker",WEB_MUSE_OMNIPICKER:"web_muse_omnipicker",WEB_SAY_THANKS:"web_say_thanks",WEB_GOODWILL_CAMPAIGN_OMNIPICKER:"web_goodwill_campaign_omnipicker",WEB_PRODUCT_PHOTO_OMNIPICKER:"web_product_photo_omnipicker",WEB_PAGES_MESSENGER:"web_pages_messenger",WEB_M_ZERO:"web_m_zero",WEB_M_BASIC:"web_m_basic",WEB_M_TOUCH:"web_m_touch",WEB_REACT_COMPOSER:"web_react_composer",MOBILE_FB4IOS:"mobile_fb4ios",MOBILE_FB4IOS_SNAP:"mobile_fb4ios_snap",MOBILE_FB4A:"mobile_fb4a",MOBILE_PMA_ANDROID:"mobile_pma_android",MOBILE_PMA_IOS:"mobile_pma_ios",THIRD_PARTY:"third_party"};},null);
__d("PUWSteps",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLIENT_FLOW_BEGIN:"client_flow_begin",CLIENT_SELECT_BEGIN:"client_select_begin",CLIENT_SELECT_SUCCESS:"client_select_success",CLIENT_SELECT_CANCEL:"client_select_cancel",CLIENT_SELECT_FAIL:"client_select_fail",CLIENT_FLOW_POST:"client_flow_post",CLIENT_TRANSFER_BATCH_BEGIN:"client_transfer_batch_begin",CLIENT_UPLOAD_BEGIN:"client_upload_begin",CLIENT_ATTACH_PHOTO:"client_attach_photo",CLIENT_PROCESS_BEGIN:"client_process_begin",CLIENT_PROCESS_SUCCESS:"client_process_success",CLIENT_PROCESS_CANCEL:"client_process_cancel",CLIENT_PROCESS_SKIP:"client_process_skip",CLIENT_PROCESS_FAIL:"client_process_fail",CLIENT_PROCESS_UNAVAILABLE:"client_process_unavailable",CLIENT_TRANSFER_ENQUEUE:"client_transfer_enqueue",CLIENT_TRANSFER_BEGIN:"client_transfer_begin",CLIENT_TRANSFER_SUCCESS:"client_transfer_success",CLIENT_TRANSFER_CANCEL:"client_transfer_cancel",CLIENT_TRANSFER_FAIL:"client_transfer_fail",CLIENT_TRANSFER_MANUAL_RETRY:"client_transfer_manual_retry",CLIENT_UPLOAD_SUCCESS:"client_upload_success",CLIENT_UPLOAD_FAIL:"client_upload_fail",CLIENT_UPLOAD_CANCEL:"client_upload_cancel",CLIENT_UPLOAD_REMOVE:"client_upload_remove",CLIENT_FACEREC_BEGIN:"client_facerec_begin",CLIENT_FACEREC_SUCCESS:"client_facerec_success",CLIENT_FACEREC_FAIL:"client_facerec_fail",CLIENT_PHOTO_PREVIEW_OPEN:"client_photo_preview_open",CLIENT_PHOTO_PREVIEW_CLOSE:"client_photo_preview_close",CLIENT_TRANSFER_BATCH_SUCCESS:"client_transfer_batch_success",CLIENT_TRANSFER_BATCH_CANCEL:"client_transfer_batch_cancel",CLIENT_TRANSFER_BATCH_FAIL:"client_transfer_batch_fail",CLIENT_PUBLISH_ENQUEUE:"client_publish_enqueue",CLIENT_PUBLISH_BEGIN:"client_publish_begin",CLIENT_PUBLISH_SUCCESS:"client_publish_success",CLIENT_PUBLISH_FAIL:"client_publish_fail",CLIENT_ATTEMPT_FAIL:"client_attempt_fail",CLIENT_FLOW_SUCCESS:"client_flow_success",CLIENT_FLOW_FATAL:"client_flow_fatal",CLIENT_FLOW_GIVEUP:"client_flow_giveup",CLIENT_FLOW_CANCEL:"client_flow_cancel",CLIENT_FLOW_FAIL:"client_flow_fail",CLIENT_FLOW_INCOMPLETE:"client_flow_incomplete",CLIENT_ATTEMPT_INCOMPLETE:"client_attempt_incomplete",CLIENT_FLOW_RETRY:"client_flow_retry",CLIENT_ATTEMPT_RETRY:"client_attempt_retry",CLIENT_DIAGNOSTIC:"client_diagnostic",CLIENT_QUALITY_SWITCH:"client_quality_switch",CLIENT_CANCEL_SURVEY:"client_cancel_survey",CLIENT_PHOTO_EDIT_BEGIN:"client_photo_edit_begin",CLIENT_PHOTO_EDIT_SUCCESS:"client_photo_edit_success",SERVER_UPLOAD_BEGIN:"server_upload_begin",SERVER_UPLOAD_SUCCESS:"server_upload_success",SERVER_UPLOAD_FAIL:"server_upload_fail",SERVER_PUBLISH_BEGIN:"server_publish_begin",SERVER_PUBLISH_SUCCESS:"server_publish_success",SERVER_PUBLISH_FAIL:"server_publish_fail",SERVER_RECEIVER_BEGIN:"server_receiver_begin",SERVER_RECEIVER_PUBLISH_BEGIN:"server_receiver_publish_begin",SERVER_SENTRY_RESTRICTION:"server_sentry_restriction"};},null);
__d("TagExpansionButtonConfig",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FRIENDS_OF_TAGGED:"friends_of_tagged",TAGGED_ONLY:"tagged_only"};},null);
__d('PhotosUploadWaterfallXMixin',['AsyncSignal','Banzai','Map','PhotosUploadWaterfallXConfig','Set','invariant','randomInt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=new j();function p(r,s){var t={};r.client_time=Math.round(Date.now()/1000);if(k.retryBanzai){t.retry=true;r.nonce=n(4294967296);}i.post(k.banzaiRoute,r,t);if(s)setTimeout(s,0);}function q(r,s){if(k.useBanzai){p(r,s);}else{var t=new h(k.loggingEndpoint,{data:JSON.stringify(r)}).setHandler(s);if(k.timeout)t.setTimeout(10*1000);t.send();}}f.exports={logStep:function(r,s,t){var u=this.getWaterfallID&&this.getWaterfallID(),v=this.getWaterfallAppName&&this.getWaterfallAppName();if(!u||!v)return;q(babelHelpers._extends({step:r,qn:u,uploader:v,ref:this.getWaterfallSource&&this.getWaterfallSource()},s),t);},logPUWStep:function(r,s,t,u,v,w,x){if(w&&w.logOncePerSession){if(!o.has(s))o.set(s,new l());if(o.get(s).has(r))return;o.get(s).add(r);}q(Object.assign({step:r,qn:s,uploader:t,ref:u},v),x);}};},null);
__d('DOMClone',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={shallowClone:function(j){return i(j,false);},deepClone:function(j){return i(j,true);}};function i(j,k){var l=j.cloneNode(k);if(typeof l.__FB_TOKEN!=='undefined')delete l.__FB_TOKEN;return l;}f.exports=h;},null);
__d('FileInput',['ArbiterMixin','DOM','DOMClone','Event','Focus','Keys','UserAgent_DEPRECATED','cx','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r,s=n.ie();q=babelHelpers.inherits(t,p(h));r=q&&q.prototype;function t(u,v,w){'use strict';r.constructor.call(this);this.container=u;this.control=v;var x=i.scry(this.container,'a')[0];x&&x.removeAttribute('href');var y=i.create('div',{className:"_3jk"},w);i.appendContent(this.control,y);this._boundHandleChange=this._handleChange.bind(this);if(s)this._boundHandleIEKeyDown=this._handleIEKeyDown.bind(this);this._setInputElement(w);}t.prototype.getValue=function(){'use strict';return this.input.value;};t.prototype.getInput=function(){'use strict';return this.input;};t.prototype.getContainer=function(){'use strict';return this.container;};t.prototype.getControl=function(){'use strict';return this.control;};t.prototype.clear=function(){'use strict';if(s){var u=j.deepClone(this.input);i.replace(this.input,u);this._setInputElement(u);}else this.input.value='';};t.prototype.destroy=function(){'use strict';this._focus.remove();this._focus=null;this._listener.remove();this._listener=null;if(s){this._IEKeyDownListener.remove();this._IEKeyDownListener=null;}this.container=null;this.control=null;this.input=null;};t.prototype._setInputElement=function(u){'use strict';this.input=u;this._focus&&this._focus.remove();this._focus=l.relocate(u,this.control);this._listener&&this._listener.remove();this._listener=k.listen(u,'change',this._boundHandleChange);if(s){this._IEKeyDownListener&&this._IEKeyDownListener.remove();this._IEKeyDownListener=k.listen(u,'keydown',this._boundHandleIEKeyDown);}};t.prototype._handleChange=function(event){'use strict';this.inform('change',event);var u=this.input.form;if(u&&s<9)k.fire(u,'change',event);};t.prototype._handleIEKeyDown=function(event){'use strict';if(event.keyCode===m.RETURN){event.preventDefault();var u=document.createEvent('MouseEvents');u.initEvent('click',true,true);this.input.dispatchEvent(u);}};f.exports=t;},null);
__d("PhotosUploadID",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=1024,i={getNewID:function(){return (h++).toString();}};f.exports=i;},null);
__d('MetaComposerEdDialog',['ARIA','Animation','Arbiter','AsyncRequest','DOM','Ease','Parent','SelectorDeprecated','Vector','getElementText'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=null;function s(t){this._dialog=t.dialog;this.config=t;this._init();}s.init=function(t){if(r){r.config.show_audience=t.show_audience;t.dialog.destroy();return;}r=new s(t);};Object.assign(s.prototype,{_init:function(){j.subscribe(['ComposerXStatusAttachment/ready','ReactComposerStatusLazyAttachment/mounted'],(function(){if(this.config.show_audience){this._sendEducationRequest({},'/ajax/composer/audience/education',this._handlerCustomDuration.bind(this,6000));this.config.show_audience=false;}}).bind(this));if(this.config.show_sticky)j.subscribe('composer/mutate',(function(t,u){this._sendEducationRequest({sticky_num:this.config.n_sticky_shown},'/ajax/composer/audience/sticky_education');}).bind(this));if(this.config.show_tags)j.subscribe('SelectedPrivacyOption/changed',(function(t,u){this._sendEducationRequest({ids:u.tags,from:'WithTagger',hasEvent:u.hasEvent,type:u.privacy,tag_num:this.config.n_tag_shown},'/ajax/composer/audience/tag_education',this._handler.bind(this));}).bind(this));o.subscribe('open',this._killAnim.bind(this));},_sendEducationRequest:function(t,u,v){if(!this._updateDialogContext())return;this._async&&this._async.abort();this._async=new k(u);this._async.setData(t).setHandler(v).send();},_updateDialogContext:function(){var t=l.scry(document.body,'div.composerAudienceWrapper'),u,v;for(var w=0;w<t.length;w++){u=t[w];v=p.getElementPosition(u);if(u&&v.x>0&&v.y>0){this._dialog.setContext(u);return true;}}return false;},_handler:function(t){this._handlerCustomDuration(1500,t);},_handlerCustomDuration:function(t,u){var v=u.payload;if(!v||!this._updateDialogContext())return;var w=this._dialog.getContent().firstChild;l.setContent(w,v);h.announce(q(w));this._dialog.show();var x=n.byClass(w,'metaComposerUserEd');if(this._anim){this._anim.stop();this._anim=new i(x);}else this._anim=new i(x).from('opacity',0);this._anim.to('opacity',1).ease(m.sineOut).checkpoint().duration(t).checkpoint().to('opacity',0).ease(m.sineOut).checkpoint().ondone(this._killAnim.bind(this)).go();},_killAnim:function(t,u){if(this._anim){this._dialog.hide();this._anim.stop();this._anim=null;}}});f.exports=s;},null);
__d('PrivacySelectorOptionNew',['CSS','DOM','DOMQuery','JSXDOM','MenuSelectableItem','PrivacyConst','csx','cx','fbt','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r,s,t=m.EventExpansion;r=babelHelpers.inherits(u,l);s=r&&r.prototype;function u(v){'use strict';s.constructor.call(this,v);this.updateAfterTagExpansion(!!v.hasTags,v.eventExpansionType||t.NONE);}u.prototype._getData=function(){'use strict';return this._data;};u.prototype.getTooltip=function(){'use strict';return this._getData().tooltip;};u.prototype.getPostParam=function(){'use strict';return this._getData().postParam.toString();};u.prototype.getTriggerIcon=function(){'use strict';return this._getData().triggerIcon;};u.prototype.getTriggerLabel=function(){'use strict';return this._getData().triggerLabel;};u.prototype.isPublic=function(){'use strict';return this.getPostParam()===m.PostParam.EVERYONE;};u.prototype.isFriends=function(){'use strict';return this.getPostParam()===m.PostParam.FRIENDS;};u.prototype.isOnlyMe=function(){'use strict';return this.getPostParam()===m.PostParam.ONLY_ME;};u.prototype.isBasicOption=function(){'use strict';return true;};u.prototype.isCustomOption=function(){'use strict';return false;};u.prototype.getTagExpansionBehavior=function(){'use strict';return this._getData().tagExpansionBehavior;};u.prototype.getBaseValue=function(){'use strict';return this._getData().baseValue;};u.prototype.getIndex=function(){'use strict';return this._getData().value;};u.prototype.getLoggingEventName=function(){'use strict';switch(this.getPostParam()){case m.PostParam.FRIENDS:return 'click_friends';case m.PostParam.EVERYONE:return 'click_everyone';case m.PostParam.ONLY_ME:return 'click_only_me';case m.PostParam.FRIENDS_MINUS_ACQUAINTANCES:return 'click_friends_except_acquaintances';case m.PostParam.FB_ONLY:return 'click_fb_only';default:return 'click_other';}};u.prototype.updateAfterTagExpansion=function(v,w){'use strict';var x=w!=t.NONE,y=this._getData().triggerLabel;if((v||x)&&this._getData().showPlusOnTagExpansion)y=p._("{privacyLabel} (+)",[p.param('privacyLabel',this._getData().triggerLabel)]);this._setLabel(y);var z=this._getExpansionType(v,w),aa=this._getData().optionSubtitles||{};this._setSubtitle(aa[z]);};u.prototype.isBelowFold=function(){'use strict';var v=h.hasClass(this.getRoot(),"_3ey_");return v;};u.prototype._setLabel=function(v){'use strict';if(!v)return;var w=j.find(this.getRoot(),"._54nh");w&&i.setContent(w,v);this._getData().label=v;};u.prototype._setSubtitle=function(v){'use strict';if(!v)return;var w=j.find(this.getRoot(),"._48u1");w&&i.setContent(w,v);};u.prototype._getExpansionType=function(v,w){'use strict';switch(w){case t.NONE:return v?m.ExpansionType.TAGS_ONLY:m.ExpansionType.NONE;case t.EVENT_INVITEES:return v?m.ExpansionType.TAGS_AND_EVENT_INVITEES:m.ExpansionType.EVENT_INVITEES_ONLY;case t.EVENT_GROUP:return v?m.ExpansionType.TAGS_AND_EVENT_GROUP:m.ExpansionType.EVENT_GROUP_ONLY;default:q(0);}};u.prototype.render=function(){'use strict';var v=s.render.call(this);if(!this._getData().isPrimaryOption)return v;var w=j.find(v,"._54nc");w&&h.addClass(w,"_48t_");var x=i.find(v,"._54nh");x&&h.addClass(x,"_48u0");var y=k.div({className:"_48u1"},this._getData().optionSubtitle);i.appendContent(w,y);return v;};f.exports=u;},null);
__d("XPrivacySelectorLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/selector\/log\/",{event:{type:"Enum",required:true,enumType:1},render_location:{type:"Int",required:true},content_type:{type:"String",required:true}});},null);
__d('PrivacySelectorCustomOption',['AsyncDialog','AsyncRequest','DataStore','PrivacySelectorOptionNew','XPrivacySelectorLoggingController','XPrivacyCustomDialogController'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;n=babelHelpers.inherits(p,k);o=n&&n.prototype;function p(q){'use strict';o.constructor.call(this,q);}p.prototype.isBasicOption=function(){'use strict';return false;};p.prototype.isCustomOption=function(){'use strict';return true;};p.prototype.getSelector=function(){'use strict';return this._selector;};p.prototype.setPostParam=function(q){'use strict';this._data.postParam=q;};p.prototype.getLoggingEventName=function(){'use strict';return 'click_custom';};p.prototype.openDialog=function(q){'use strict';if(typeof this._selector==='undefined')this._selector=q;j.set(this._data.id,'PrivacySelectorCustomOption',this);var r=m.getURIBuilder().setString('option_id',this._data.id).setString('id',this._data.privacyfbid.toString()).setString('post_param',q.getPostParam()).setString('content_type',q.getContentType()).setInt('render_location',q.getRenderLocation()).setIntVector('tags',q.getTags()).setBool('autosave',this._data.autosave).setBool('limit_community',this._data.limitcommunity).setBool('limit_facebook',this._data.limitfacebook).setBool('limit_fof',this._data.limitfof).setBool('limit_tagexpand',this._data.limittagexpand).setBool('is_new_privacy_selector',true).setString('tag_expansion_button',q.getTagExpansionButton()).getURI(),s=new i(r);s.setRelativeTo(q.getTriggerButtonElement());h.send(s,function(t){var u=function(v){var w=l.getURIBuilder().setEnum('event',v).setInt('render_location',document.getElementsByName('render_location')[0].value).setString('content_type',document.getElementsByName('content_type')[0].value).getURI();new i().setURI(w).send();};t.subscribe('hide',function(){q.inform('custom/hide');q.inform('selectorFinished');});t.subscribe('success',function(){q.inform('custom/success');u('custom_save');});t.subscribe('cancel',function(){q.inform('custom/cancel');u('custom_cancel');});});};p.customPrivacySave=function(q,r){'use strict';var s=j.get(q,'PrivacySelectorCustomOption');s.getSelector().selectOption(r);j.remove(q,'PrivacySelectorCustomOption');};f.exports=p;},null);
__d('PrivacySelectableMenu',['Arbiter','AsyncRequest','CSS','Ease','PrivacySelectorCustomOption','PrivacySelectorOptionNew','SelectableMenu','SelectableMenuUtils','XPrivacySelectorLoggingController','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r,s;r=babelHelpers.inherits(t,n);s=r&&r.prototype;function t(u,v){'use strict';s.constructor.call(this,u,v);}t.prototype.getItemForIndex=function(u){'use strict';for(var v=0;v<this._items.length;v++){var w=this._items[v];if(w instanceof m&&w.getIndex()==u)return w;}return null;};t.prototype.selectDefaultOption=function(){'use strict';this._items.some(function(u){if(u instanceof m&&this._isDefaultOption(u)){this.setValue(u.getIndex());return true;}return false;},this);};t.prototype.selectOption=function(u){'use strict';var v=null,w=this._items.some(function(x){if(x instanceof m&&!x.isCustomOption()&&x.getPostParam()==u){this.setValue(x.getIndex());return true;}if(x instanceof l){v=x;return false;}if(this._isMoreOption(x)){this.expandMenu();return false;}},this);if(!w&&v){v.setPostParam(u);this.setValue(v.getIndex());}};t.prototype._isDefaultOption=function(u){'use strict';return j.hasClass(u.getRoot(),"_plx");};t.prototype._isMoreOption=function(u){'use strict';return j.hasClass(u.getRoot(),"_po2");};t.prototype._handleItemClick=function(u,v){'use strict';if(!o.doesItemSupportSelect(u))return s._handleItemClick.call(this,u,v);if(this._isMoreOption(u)){this._logMoreClick();this.expandMenu();return;}this._logOptionClick(u);var w=this.inform('itemclick',{item:u,event:v});if(w)return;if(!o.isSelected(u)&&!u.isCustomOption()&&u.select()!==false){this._items.forEach(function(x){if(o.isSelected(x)&&x!==u)x.deselect();});this.inform('change',this.getSelection());}h.inform('composerprivacy/aborteducation');this.done();return u.handleClick();};t.prototype._logMoreClick=function(){'use strict';var u=p.getURIBuilder().setEnum('event','more_options').setInt('render_location',this._config.renderlocation).setString('content_type',this._config.contenttype).getURI();new i().setURI(u).send();};t.prototype._logOptionClick=function(u){'use strict';var v=p.getURIBuilder().setEnum('event',u.getLoggingEventName()).setInt('render_location',this._config.renderlocation).setString('content_type',this._config.contenttype).getURI();new i().setURI(v).send();};t.prototype.expandMenu=function(){'use strict';j.removeClass(this.getRoot(),"_po3");j.addClass(this.getRoot(),"_po4");this.inform('expandMenu');};t.prototype.collapseMenu=function(){'use strict';j.removeClass(this.getRoot(),"_po4");j.addClass(this.getRoot(),"_po3");};t.prototype.updateOptionsAfterTagExpansion=function(u,v){'use strict';this.forEachItem(function(w){if(w instanceof m)w.updateAfterTagExpansion(u,v);});};t.prototype.onPopoverOpen=function(u){'use strict';if(this._config.learnMore)this._config.learnMore.collapse();if(u&&u.isBelowFold()){this.expandMenu();}else this.collapseMenu();if(u&&this._items.indexOf(u)>=15)setTimeout((function(){this._scrollableArea.scrollToBottom(true,{duration:1000,ease:k.sineOut});}).bind(this),250);};f.exports=t;},null);
__d('PopoverButton',['DOM','DOMQuery','csx','isTextNode'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l={setLabel:function(m,n){var o=i.find(m,"._55pe"),p=o.childNodes;for(var q=0;q<p.length;q++)if(k(p[q])){h.replace(p[q],n);return;}h.appendContent(o,n);}};f.exports=l;},null);
__d('PrivacySelectorDataStore',['ArbiterMixin','PrivacySelectorNewDispatcher','KeyedCallbackManager'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=new j(),l=babelHelpers._extends({},h,{get:function(m,n){k.executeOrEnqueue(m,n);},hasValueChanged:function(m){return !!k.getResource(m);}});i.register(function(m){if(m.selector_type){var n={};n[m.selector_type]={post_param:m.post_param,unique_id:m.unique_id,reload:m.reload,is_error:m.is_error};k.addResourcesAndExecute(n);l.inform('change');}});f.exports=l;},null);
__d("XPrivacySelectorEventNUXController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/selector\/nux\/event_checkin\/",{context_node_id:{type:"String",required:true},event_expansion_type:{type:"Enum",enumType:0},event_id:{type:"String"}});},null);
__d("XPrivacySelectorUpdateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/selector\/update\/",{privacy_fbid:{type:"String",required:true},post_param:{type:"String",required:true},event_expansion_type:{type:"Enum",enumType:0},tags:{type:"IntVector"},render_location:{type:"Int",required:true},is_saved_on_select:{type:"Bool",defaultValue:false},should_return_tooltip:{type:"Bool",defaultValue:false},replace_on_select:{type:"Bool",defaultValue:false},prefix_tooltip_with_app_privacy:{type:"Bool",defaultValue:false},ent_id:{type:"String",required:true},tag_expansion_button:{type:"String"},reload_selector:{type:"Bool",defaultValue:false}});},null);
__d('PrivacySelectorBase',['ArbiterMixin','AsyncRequest','Animation','Button','CSS','CurrentUser','Focus','Input','MenuStaticItem','MenuSelectableItem','PopoverButton','PopoverLoadingMenu','PrivacyConst','DataStore','PrivacySelectorNewDispatcher','PrivacySelectorDataStore','PrivacySelectableMenu','Run','SubscriptionsHandler','TagExpansionButtonConfig','TooltipData','XPrivacySelectorEventNUXController','XPrivacySelectorLoggingController','XPrivacySelectorUpdateController','XUIError','bind','cx','fbt','mixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){if(c.__markCompiled)c.__markCompiled();var ka,la,ma=t.EventExpansion,na=3;ka=babelHelpers.inherits(oa,ja(h));la=ka&&ka.prototype;function oa(pa,qa,ra,sa,ta,ua){'use strict';la.constructor.call(this);u.set(pa,'selector',this);this._root=pa;this._button=qa;this._config=ua;this._menu=ra;this._popoverMenu=ta;this._input=sa;this._isSavedOnSelect=ua.is_saved_on_select;this._privacyFBID=ua.privacy_fbid;this._contentType=ua.content_type;this._renderLocation=ua.render_location;this._supportsTagExpansion=ua.supports_tag_expansion;this._prefixTooltipApps=ua.should_prefix_tooltip_apps;this._shouldDisplayLabel=ua.should_display_label;this._tags=ua.tagged_uids;this._hasTags=this._tags.length>0;this._eventExpansionType=ua.event_expansion_type;this._entID=ua.ent_id;this._popover=this._popoverMenu.getPopover();this._receivingUpdate=false;this._initTagExpansionButtonState();this._selectorSyncKey=ua.selector_sync_key;this._previousParam=null;this._confirmOnSave=false;this._confirmOnSaveDialogs={};this._listeners=new z();if(ua.use_async_menu){this._listeners.addSubscriptions(this._popoverMenu.subscribe('setMenu',(function(){this._menu=this._popoverMenu.getMenu();if(!(this._menu instanceof x))return;this._onMenuLoad();this._onPopoverOpen();this.inform('asyncMenuLoaded');}).bind(this)));}else this._onMenuLoad();if(this._selectorSyncKey)this._initSelectorSync();y.onLeave(this._cleanup.bind(this));}oa.prototype._cleanup=function(){'use strict';this._listeners&&this._listeners.release();this._listeners=null;};oa.prototype._initSelectorSync=function(){'use strict';this._listeners.addSubscriptions(w.subscribe('change',(function(){w.get(this._selectorSyncKey,(function(pa){if(pa.unique_id!==this._menu._config.id){this._receivingUpdate=true;if(pa.post_param)this.selectOption(pa.post_param);pa.reload&&this.reloadSelector();pa.is_error&&this._displayErrorWithoutFocus();if(!pa.post_param)this._receivingUpdate=false;}}).bind(this));}).bind(this)));if(!this._syncsToDefault())this._listeners.addSubscriptions(this._menu.subscribe('change',(function(){if(!this._shouldDisplaySuccessAndFailure())this._broadcastUpdate();}).bind(this)));};oa.prototype._broadcastUpdate=function(){'use strict';this._broadcastUpdateImpl(false);};oa.prototype._broadcastError=function(){'use strict';this._broadcastUpdateImpl(true);};oa.prototype._broadcastUpdateImpl=function(pa){'use strict';if(!this._receivingUpdate){var qa={selector_type:this._selectorSyncKey,unique_id:this._menu._config.id};if(pa){qa.is_error=pa;}else{var ra=this._getSelectedOption();qa.post_param=ra.getPostParam().toString();}v.handleUpdateFromSelector(qa);}};oa.prototype.shouldReplaceOnPost=function(){'use strict';return this._config.replace_on_post||this.isComposerWithDefault();};oa.prototype.isComposerWithDefault=function(){'use strict';return this._syncsToDefault()&&!this._config.replace_on_select;};oa.prototype._isSelectorForChangingComposerDefault=function(){'use strict';return this._syncsToDefault&&this._config.replace_on_select;};oa.prototype._syncsToDefault=function(){'use strict';return this._config.selector_sync_key==t.PrivacyField.DEFAULT_COMPOSER.toString();};oa.prototype.getIsPublicSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isPublic();};oa.prototype.getIsFriendsSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isFriends();};oa.prototype.getIsOnlyMeSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isOnlyMe();};oa.prototype.getSelectedBaseValue=function(){'use strict';return this._selectedOption&&this._selectedOption.getBaseValue();};oa.prototype.getSelectedPostParam=function(){'use strict';return this._selectedOption&&this._selectedOption.getPostParam().toString();};oa.prototype.getIsCustomOptionSelected=function(){'use strict';return this._selectedOption&&this._selectedOption.isCustomOption();};oa.prototype.setValue=function(pa){'use strict';this._menu.setValue(pa);};oa.prototype.openSelectorExpanded=function(pa){'use strict';this.openSelector((function(){this._menu.expandMenu();pa&&pa();}).bind(this));};oa.prototype.openSelector=function(pa){'use strict';if(this._menu instanceof s){this.subscribeOnce('asyncMenuLoaded',(function(){pa&&pa();}).bind(this));this._popover.showLayer();}else{this._popover.showLayer();pa&&pa();}};oa.prototype.closeSelector=function(){'use strict';this._popover.hideLayer();};oa.prototype.getPopover=function(){'use strict';return this._popover;};oa.prototype.getTriggerButtonElement=function(){'use strict';return this._button;};oa.prototype.getRoot=function(){'use strict';return this._root;};oa.prototype.getMenuElement=function(){'use strict';return this._menu.getRoot();};oa.prototype.selectDefaultOption=function(){'use strict';this._menu.selectDefaultOption();this._updateMenu();};oa.prototype.selectOption=function(pa){'use strict';if(!pa)return;if(this._menu instanceof s){this.subscribeOnce('asyncMenuLoaded',this._selectOptionImpl.bind(this,pa));this._fetchAsyncMenu();}else this._selectOptionImpl(pa);};oa.prototype._selectOptionImpl=function(pa){'use strict';this._menu.selectOption(pa);this._updateMenu();};oa.prototype._updateMenu=function(){'use strict';this._selectedOption=this._getSelectedOption();this.updateDataForItemIndex(this._selectedOption.getIndex(),this._selectedOption.getPostParam().toString());};oa.prototype.setTagExpansionButton=function(pa){'use strict';this._tagExpansionButton=pa;if(this._hasAudienceExpansion()){this._menu.updateOptionsAfterTagExpansion(this._showTagExpansion(),this._getEventExpansionType());this._updateTriggerButtonLabel();this._updateTooltipAfterChange();}};oa.prototype.getTagExpansionButton=function(){'use strict';return this._tagExpansionButton;};oa.prototype._initTagExpansionButtonState=function(){'use strict';this._tagExpansionButton=aa.FRIENDS_OF_TAGGED;var pa=this._getSelectedOption();if(!pa)return;var qa=JSON.parse(pa.getPostParam());if(qa.settings&&qa.settings.no_tag_expansion===true){this._tagExpansionButton=aa.TAGGED_ONLY;}else this._tagExpansionButton=aa.FRIENDS_OF_TAGGED;};oa.prototype._fetchAsyncMenu=function(){'use strict';if(this._config.use_async_menu)this._popoverMenu.fetchMenu();};oa.prototype._getSelectedOption=function(){'use strict';if(!(this._menu instanceof x))return;var pa;this._menu.forEachItem((function(qa){if(qa instanceof q&&qa.isSelected())pa=qa;}).bind(this));return pa;};oa.prototype._onItemClick=function(pa,qa){'use strict';var ra=qa.item;if(ra instanceof p)return;if(ra.isBasicOption()){this.updateDataForItemIndex(ra.getIndex(),ra.getPostParam().toString());}else if(ra.isCustomOption()){this._closeForCustom=true;ra.openDialog(this);}this.inform('click',{customSelected:ra.isCustomOption()});};oa.prototype.getContentType=function(){'use strict';return this._contentType;};oa.prototype.getRenderLocation=function(){'use strict';return this._renderLocation;};oa.prototype.getPostParam=function(){'use strict';return this._postParam;};oa.prototype.getTags=function(){'use strict';return this._tags;};oa.prototype.registerConfirmOnSaveDialog=function(pa,qa,ra){'use strict';this._confirmOnSave=true;if(!(pa in this._confirmOnSaveDialogs))this._confirmOnSaveDialogs[pa]={};ra.subscribe('hide',(function(){if(this._previousParam!==this._postParam)this.selectOption(this._previousParam);}).bind(this));ra.subscribe('button',(function(){this._savePrivacy();ra.hide();}).bind(this));this._confirmOnSaveDialogs[pa][qa]=ra;};oa.prototype.updateDataForItemIndex=function(pa,qa,ra){'use strict';if(ra){this._tagExpansionButton=ra;this.inform('CustomTagExpansion',this._tagExpansionButton);}var sa=this._menu.getItemForIndex(pa);if(sa.isCustomOption())sa.setPostParam(qa);this._selectedOption=sa;this._previousParam=this._postParam;this._postParam=qa;o.setValue(this._input,qa);this._updateTriggerButtonLabel();if(this._shouldUpdateTooltips()){this._updateTooltipAfterChange();}else{if(this._isSavedOnSelect)if(this._confirmOnSave&&this._previousParam in this._confirmOnSaveDialogs&&this._postParam in this._confirmOnSaveDialogs[this._previousParam]){this._confirmOnSaveDialogs[this._previousParam][this._postParam].show();}else this._savePrivacy();this._setTooltipValue(this._selectedOption.getTooltip());}this.inform('changed',{post_param:this._postParam,base_value:this.getSelectedBaseValue()});};oa.prototype._shouldUpdateTooltips=function(){'use strict';return this._prefixTooltipApps||this._supportsTagExpansion||this.getIsCustomOptionSelected();};oa.prototype._savePrivacy=function(){'use strict';this._previousParam=this._postParam;this._sendUpdateRequest();};oa.prototype.reloadSelector=function(){'use strict';this._cleanup();var pa=ea.getURIBuilder().setString('privacy_fbid',String(this._privacyFBID)).setString('post_param',this._postParam).setInt('render_location',this._renderLocation).setBool('reload_selector',true).setString('ent_id',String(this._entID)).getURI();new i().setRelativeTo(this._root).setHandler(this.inform.bind(this,'reloaded')).setURI(pa).send();};oa.prototype._sendUpdateRequest=function(){'use strict';var pa=this._isSavedOnSelect&&!this._receivingUpdate,qa=this._shouldUpdateTooltips();if(!pa&&!qa){this._receivingUpdate=false;return;}if(this._shouldDisplaySuccessAndFailure()){k.setIcon(this._button,this._config.spinner);l.show(this._config.spinner);l.hide(this._config.checkmark);}var ra=ea.getURIBuilder().setString('privacy_fbid',String(this._privacyFBID)).setString('post_param',this._postParam).setIntVector('tags',this._tags).setEnum('event_expansion_type',this._eventExpansionType).setInt('render_location',this._renderLocation).setBool('is_saved_on_select',pa).setBool('should_return_tooltip',qa).setBool('prefix_tooltip_with_app_privacy',this._prefixTooltipApps).setBool('replace_on_select',this._config.replace_on_select).setString('ent_id',String(this._entID)).setString('tag_expansion_button',this._tagExpansionButton).getURI(),sa=new i().setRelativeTo(this._root).setHandler(ga(this,function(ta){if(this._shouldDisplaySuccessAndFailure()&&!this._receivingUpdate){l.hide(this._config.spinner);this._updateTriggerButtonLabel();if(this._config.checkmark){this._updateTriggerButtonLabel();var ua=k.getIcon(this._button);l.hide(ua);new j(this._config.checkmark).show().from('opacity',0).to('opacity',1).duration(400).checkpoint().duration(200).checkpoint().from('opacity',1).to('opacity',0).duration(400).hide().ondone(function(){new j(ua).show().from('opacity',0).to('opacity',1).duration(300).go();}).go();}this._broadcastUpdate();}if(this._config.replace_on_select)this._cleanup();if(this._isSelectorForChangingComposerDefault())this._broadcastUpdate();var va=ta&&ta.payload&&ta.payload.tooltip;va&&this._setTooltipValue(ta.payload.tooltip);this.inform('selector_updated');})).setFinallyHandler(ga(this,function(ta){this._receivingUpdate=false;})).setURI(ra);if(this._shouldDisplaySuccessAndFailure())sa.setErrorHandler(ga(this,function(ta){if(this._receivingUpdate){this._displayErrorWithoutFocus();return;}this._menu.selectOption(this._previousParam);this._postParam=this._previousParam;this._displayError();this._broadcastError();}));sa.send();};oa.prototype._displayError=function(){'use strict';this._displayErrorImpl(true);};oa.prototype._displayErrorWithoutFocus=function(){'use strict';this._displayErrorImpl(false);};oa.prototype._displayErrorImpl=function(pa){'use strict';if(this._shouldDisplaySuccessAndFailure()){r.setLabel(this._button,ia._("Select Audience"));k.setIcon(this._button,this._config.error_icon);l.show(this._config.error_icon);ba.remove(this._button);pa&&n.setWithoutOutline(this._button);fa.set({target:this._button,message:ia._("Your selection might not have been saved. We recommend trying again later.")});}};oa.prototype.informEventExpansionChanged=function(pa){'use strict';if(this._eventExpansionType===pa)return;this._eventExpansionType=pa;this._menu.updateOptionsAfterTagExpansion(this._showTagExpansion(),this._getEventExpansionType());this._updateTriggerButtonLabel();this._updateTooltipAfterChange();this._maybeShowEventExpansionNUX();};oa.prototype.informTagsChanged=function(pa){'use strict';var qa=this._getTags(pa);this.informTagsChangedWithIDs(qa);};oa.prototype.informTagsChangedWithIDs=function(pa){'use strict';var qa=!pa.length;if(this._hasTags===qa){this._hasTags=!!pa.length;this._menu.updateOptionsAfterTagExpansion(this._showTagExpansion(),this._getEventExpansionType());this._updateTriggerButtonLabel();}if(this._tags.length!==pa.length){this._tags=pa;this._updateTooltipAfterChange();}};oa.prototype._getEventExpansionType=function(){'use strict';return this._eventExpansionType;};oa.prototype._showTagExpansion=function(){'use strict';return this._hasTags&&this._tagExpansionButton.valueOf()===aa.FRIENDS_OF_TAGGED.valueOf();};oa.prototype._getTags=function(pa){'use strict';var qa=[],ra=m.getID();if(pa.withTags)for(var sa=0;sa<pa.withTags.length;sa++){var ta=pa.withTags[sa].info;if(ta.uid!=ra)qa.push(ta.uid);}if(pa.mention)for(var ua in pa.mention)if(pa.mention[ua].type=='user'&&pa.mention[ua].uid!=ra)qa.push(pa.mention[ua].uid);return qa;};oa.prototype._updateTriggerButtonLabel=function(){'use strict';var pa=this._selectedOption.getTriggerIcon();if(this._config.trigger_no_icon)l.hide(pa);k.setIcon(this._button,pa.cloneNode());if(!this._shouldDisplayLabel)return;r.setLabel(this._button,this._selectedOption.getLabel());if(this._config.trigger_style===na){l.conditionClass(this.getTriggerButtonElement(),"_mw-",this.getIsOnlyMeSelected());l.conditionClass(this.getTriggerButtonElement(),"_mw_",this.getIsPublicSelected());}};oa.prototype._updateTooltipAfterChange=function(){'use strict';var pa=ia._("Loading...");this._setTooltipValue(pa);this._sendUpdateRequest();};oa.prototype._setTooltipValue=function(pa){'use strict';pa&&ba.set(this._button,pa);};oa.prototype._onPopoverClose=function(){'use strict';if(!this._getSelectedOption())return;if(this._closeForCustom){this._closeForCustom=false;}else this.inform('selectorFinished');this.inform('close');};oa.prototype._onPopoverOpen=function(){'use strict';if(!(this._menu instanceof x))return;this._menu.onPopoverOpen(this._getSelectedOption());var pa=da.getURIBuilder().setEnum('event','opened').setInt('render_location',this._renderLocation).setString('content_type',this._contentType).getURI();new i().setURI(pa).send();this.inform('open');};oa.prototype._onMenuLoad=function(){'use strict';this._listeners.addSubscriptions(this._menu.subscribe('itemclick',this._onItemClick.bind(this)),this._popover.subscribe('hide',this._onPopoverClose.bind(this)),this._popover.subscribe('show',this._onPopoverOpen.bind(this)));this._listeners.addSubscriptions(this._menu.subscribe('expandMenu',(function(){if(this._popover&&this._popover.getLayer())this._popover.getLayer().updatePosition();}).bind(this)));this._selectedOption=this._getSelectedOption();if(this._selectedOption){this._postParam=this._selectedOption.getPostParam().toString();this._previousParam=this._postParam;this._hasAudienceExpansion()&&this._updateTriggerButtonLabel();}};oa.prototype._hasAudienceExpansion=function(){'use strict';return this._hasTags||this._getEventExpansionType()!=ma.NONE;};oa.prototype._shouldDisplaySuccessAndFailure=function(){'use strict';return this._config.spinner&&this._config.checkmark&&this._config.error_icon;};oa.prototype._maybeShowEventExpansionNUX=function(){'use strict';if(this._getEventExpansionType()==ma.NONE)return;var pa=ca.getURIBuilder().setString('context_node_id',this._button.id).setEnum('event_expansion_type',this._getEventExpansionType()).getURI();new i(pa).send();};f.exports=oa;},null);
__d('FeedAdsGapRuleViolationDetection',['Banzai','CSS','csx','cx','DOM','ge','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o='ei',p='qid',q='gap rule violation',r='non violating ads gap',s='first position violation',t='feed load',u='first position invalidation',v='spacing invalidation',w=[],x=[],y=[],z={},aa={},ba={registerFeedStories:function(ca,da){if(ca.containerID=='substream_0'){w=[];x=[];}var ea=m(ca.containerID);if(!ea)return;z=babelHelpers._extends({},ca.demoAdChecks,z);var fa=l.scry(ea,"div._5jmm").map(this._convertStoryNodeToObject).filter(function(ha){return ha!==null;});if(ca.isLoggingEnabled&&fa.length!==0)this._logFeedLoad();if(ca.isNewerStories){w=fa.concat(w);}else w=w.concat(fa);for(var ga in ca.minGaps)if(ca.minGaps.hasOwnProperty(ga))aa[ga]=ca.minGaps[ga];if(n(z)){if(ca.isLoggingEnabled||ca.isFirstPosInvalidationEnabled)this._checkFirstPosViolation(ca,ea);if(ca.isLoggingEnabled||ca.isGapRuleInvalidationEnabled)this._checkGapRuleViolation(ca);}},_convertStoryNodeToObject:function(ca){if(i.hasClass(ca,"_170y"))return null;var da=ca.getAttribute('data-dedupekey');if(z[da])return null;var ea=l.scry(ca,"div._hye"),fa=l.scry(ca,"li._170x"),ga=[];if(ea.length!==0){ga=ea.map(function(ja){return ja.getAttribute('data-ft');}).filter(function(ja){return ja!==null;});}else if(fa.length!==0){ga=fa.map(function(ja){return ja.getAttribute('data-ft');}).filter(function(ja){return ja!==null;});}else if(ca.getAttribute('data-ft'))ga=[ca.getAttribute('data-ft')];if(!ga.length)return null;var ha=JSON.parse(ga[0]),ia={dataFTArray:ga,dedupKey:da,isSponsored:!!ha[o],height:ca.offsetHeight,qid:parseInt(ha[p],10),nodeID:ca.id};return ia;},_checkFirstPosViolation:function(ca,da){while(w.length>0&&w[0].isSponsored){var ea={ftArray:w[0].dataFTArray,qid:w[0].qid,nodeid:w[0].nodeID,firstStoryType:ca.firstStoryType},fa=l.scry(da,'.uiBoxRed')[0];if(fa){var ga=fa.textContent||fa.innerText;if(ga)ea.error_msg=ga;}if(ca.isLoggingEnabled&&!(w[0].dedupKey in y)){this._logFirstPosViolation(ea);y[w[0].dedupKey]=ea;}if(ca.isFirstPosInvalidationEnabled){this._invalidateFirstPosAd(ea);w.splice(0,1);}else break;}},_getMinGap:function(ca,da,ea){var fa=Math.min(ca?ca:Number.MAX_VALUE,da?da:Number.MAX_VALUE);return fa!==Number.MAX_VALUE?fa:ea;},_getStoryDedupKeysJSONString:function(ca,da){var ea=[];for(var fa=ca;fa<=da;fa++)ea.push(w[fa].dedupKey);return JSON.stringify(ea);},_getIdxOfStoryToSwap:function(ca,da){if(da>=w.length-ca)return -1;for(var ea=ca+1;ea<w.length&&da>0;ea++){if(!w[ea].isSponsored){da--;}else return -1;if(da===0)return ea;}return -1;},_checkGapRuleViolation:function(ca){var da=null,ea=null,fa=0;for(var ga=0;ga<w.length;ga++){var ha=w[ga];fa+=ha.height;if(ha.isSponsored){fa-=ha.height;var ia=false,ja=false;if(da!==null){var ka=ga-da,la=null,ma=this._getMinGap(aa[ea.dedupKey],aa[ha.dedupKey],ca.defaultMinGap);if(ka<ma){la=q;}else la=r;var na={ftArray_A:ea.dataFTArray,ftArray_B:ha.dataFTArray,dist:ka,pdist:fa,pos:ga+1,qid_A:ea.qid,qid_B:ha.qid,event_type:la,nodeid:ha.nodeID,dedupKeys:this._getStoryDedupKeysJSONString(da,ga)};if(ca.isLoggingEnabled)if(!(ha.dedupKey in x)||x[ha.dedupKey].event_type!==la){this._logAdsGapEvent(na);x[ha.dedupKey]=na;}if(ca.isGapRuleInvalidationEnabled&&la==q){var oa=-1;if(ca.isSwapOnGapRuleViolationEnabled)oa=this._getIdxOfStoryToSwap(ga,ma-ka);if(oa>0){this._shiftAdBelowOrganicStory(ha.nodeID,w[oa].nodeID);var pa=w[ga];w.splice(ga,1);w.splice(oa,0,pa);if(ca.isLoggingEnabled){var qa={ft:w[oa].dataFTArray[0],dist:oa-ga,qid:w[oa].qid,event_type:'ad_swap'};h.post('feed_ads_gap_rule_violation',qa);}ja=true;ha=w[ga];fa+=ha.height;}else if(ca.isGapRuleInvalidationEnabled){this._invalidateGapRuleViolatedAd(na);ia=true;w.splice(ga--,1);}}}if(!ia&&!ja){da=ga;ea=ha;fa=0;}}}},_logFirstPosViolation:function(ca){var da={ft:ca.ftArray[0],event_type:s,intValues:{qid:ca.qid},first_story_type:ca.firstStoryType};if(ca.error_msg)da.error_msg=ca.error_msg;h.post('feed_ads_gap_rule_violation',da);},_logAdsGapEvent:function(ca){var da={ft_A:ca.ftArray_A[0],ft_B:ca.ftArray_B[0],event_type:ca.event_type,intValues:{dist:ca.dist,pdist:ca.pdist,pos:ca.pos,qid_A:ca.qid_A,qid_B:ca.qid_B},dedup_keys:ca.dedupKeys};h.post('feed_ads_gap_rule_violation',da);},_logFeedLoad:function(){var ca={event_type:t};h.post('feed_ads_gap_rule_violation',ca);},_invalidateFirstPosAd:function(ca){i.hide(m(ca.nodeid));var da={ft_array:ca.ftArray,event_type:u};h.post('feed_ads_gap_rule_violation',da);},_invalidateGapRuleViolatedAd:function(ca){var da=m(ca.nodeid);da&&i.hide(da);var ea={ft_array_A:ca.ftArray_A,ft_array_B:ca.ftArray_B,event_type:v};h.post('feed_ads_gap_rule_violation',ea);},_shiftAdBelowOrganicStory:function(ca,da){var ea=m(ca),fa=m(da);ea&&fa&&l.insertAfter(fa,ea);}};f.exports=ba;},null);