/*!CK:2073153229!*//*1450109782,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["OwQAz"]); }

__d('MercuryThreadPermalink.react',['HighlanderFinchGating','Link.react','PagesMessengerThreadDialogLink.react','ReactComponentWithPureRenderMixin','React','WebMessengerThreadPermalinks'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=l.PropTypes,o=l.createClass({displayName:'MercuryThreadPermalink',mixins:[k],propTypes:{threadID:n.string.isRequired,viewer:n.string.isRequired,folder:n.string,onClick:n.func},getInitialState:function(){return {permalinkURI:'#'};},componentDidMount:function(){this._getPermalinkURI(this.props);},componentWillReceiveProps:function(p){if(p.threadID!==this.props.threadID||p.folder!==this.props.folder)this._getPermalinkURI(p);},render:function(){if(h.HIGHLANDER_FINCH_GATING)return (l.createElement(j,{className:this.props.className,threadID:this.props.threadID,viewer:this.props.viewer,folder:this.props.folder},this.props.children));return (l.createElement(i,{className:this.props.className,href:this.state.permalinkURI,onClick:this.props.onClick,role:'button'},this.props.children));},_getPermalinkURI:function(p){if(h.HIGHLANDER_FINCH_GATING)return;this.setState(this.getInitialState());m.getThreadURI(p.threadID,(function(q){return this.isMounted()&&this.setState({permalinkURI:q});}).bind(this),p.folder);}});f.exports=o;},null);